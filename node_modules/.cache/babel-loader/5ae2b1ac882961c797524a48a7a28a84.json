{"remainingRequest":"/Users/apple/Desktop/haha/vue/myspace/node_modules/thread-loader/dist/cjs.js!/Users/apple/Desktop/haha/vue/myspace/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfilePosts.vue?vue&type=template&id=5f2d0fea&scoped=true","dependencies":[{"path":"/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfilePosts.vue","mtime":1667043679570},{"path":"/Users/apple/Desktop/haha/vue/myspace/babel.config.js","mtime":1667036937183},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/thread-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/babel-loader/lib/index.js","mtime":1665369387354},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1665369388402},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js","mtime":1665369387346}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgpjb25zdCBfd2l0aFNjb3BlSWQgPSBuID0+IChfcHVzaFNjb3BlSWQoImRhdGEtdi01ZjJkMGZlYSIpLCBuID0gbigpLCBfcG9wU2NvcGVJZCgpLCBuKTsKCmNvbnN0IF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJjYXJkIgp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAiY2FyZC1ib2R5Igp9Owpjb25zdCBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiY2FyZCBzaW5nbGUtcG9zdCIKfTsKY29uc3QgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImNhcmQtYm9keSIKfTsKY29uc3QgX2hvaXN0ZWRfNSA9IFsib25DbGljayJdOwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkcHJvcHMucG9zdHMucG9zdHMsIHBvc3QgPT4gewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICBrZXk6IHBvc3QuaWQKICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhwb3N0LmNvbnRlbnQpICsgIiAiLCAxKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gJHNldHVwLmRlbGV0ZV9hX3Bvc3QocG9zdC5pZCksCiAgICAgIHR5cGU6ICJidXR0b24iLAogICAgICBjbGFzczogImJ0biBidG4tZGFuZ2VyIGJ0bi1zbSIKICAgIH0sICLliKDpmaQiLCA4LCBfaG9pc3RlZF81KV0pXSldKTsKICB9KSwgMTI4KSldKV0pOwp9"},{"version":3,"mappings":";;;;;EACSA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EAEEA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;;uBAJ3BC,oBAYM,KAZN,cAYM,CAXFC,oBAUM,KAVN,cAUM,oBATFD,oBAQME,SARN,EAQM,IARN,EAQMC,YARcC,aAAMC,KAQpB,EARMC,IAAmB,IAAf;yBAAhBN,oBAQM,KARN,EAQM;MAR4BO,GAAG,EAAED,IAAI,CAACE;IAQtC,CARN,GACIP,oBAKM,KALN,cAKM,CAJFA,oBAGM,KAHN,cAGM,mCAFCK,IAAI,CAACG,WAAU,KAClB,EACE,EADFR,oBAA+F,QAA/F,EAA+F;MAAtFS,OAAK,YAAEC,qBAAcL,IAAI,CAACE,EAAnB,CAA+E;MAAvDI,IAAI,EAAC,QAAkD;MAAzCb,KAAK,EAAC;IAAmC,CAA/F,EAAoF,IAApF,EAAsF,CAAtF,EAAsFc,UAAtF,CACE,CAHN,CAIE,CALN,EADJ;GAQM,CARN,MASE,EAVN,CAWE,CAZN","names":["class","_createElementBlock","_createElementVNode","_Fragment","_renderList","$props","posts","post","key","id","content","onClick","$setup","type","_hoisted_5"],"sourceRoot":"","sources":["/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfilePosts.vue"],"sourcesContent":["<template>\n    <div class=\"card\">\n        <div class=\"card-body\">\n            <div v-for=\"post in posts.posts\" :key=\"post.id\">\n                <div class=\"card single-post\">\n                    <div class=\"card-body\">\n                        {{ post.content }}\n                        <button @click=\"delete_a_post(post.id)\" type=\"button\" class=\"btn btn-danger btn-sm\">删除</button>\n                    </div>\n                </div>\n            \n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script>\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\nimport $ from 'jquery';\n\nexport default{\n    name: \"UserProfilePosts\",\n    props:{\n        posts:{\n            type: Object,\n            required: true,\n        },\n        user: {\n            type: Object,\n            required: true,\n        }\n    },\n    setup(props, context) {\n        const store = useStore();\n        let is_me = computed(() => store.state.user.id === props.user.id)\n\n        const delete_a_post = post_id => {\n            $.ajax({\n                url: \"https://app165.acapp.acwing.com.cn/myspace/post/\",\n                type: \"DELETE\",\n                data: {\n                    post_id,\n                },\n                headers: {\n                    'Authorization': \"Bearer \" + store.state.user.access,\n                },\n                success(resp){\n                    if(resp.result === \"success\"){\n                        context.emit('delete_a_post', post_id);\n                    }\n                }\n            })\n            \n        }\n\n        return{\n            is_me,\n            delete_a_post,\n\n        }\n    }\n}\n</script>\n\n\n<style scoped>\n\n.single-post{\n    margin-bottom: 10px;\n}\n\nbutton{\n    float: right;\n}\n\n</style>"]}]}