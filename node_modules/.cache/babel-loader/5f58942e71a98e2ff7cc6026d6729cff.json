{"remainingRequest":"/Users/apple/Desktop/haha/vue/myspace/node_modules/thread-loader/dist/cjs.js!/Users/apple/Desktop/haha/vue/myspace/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfileInfo.vue?vue&type=template&id=02174aca&scoped=true","dependencies":[{"path":"/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfileInfo.vue","mtime":1667045560011},{"path":"/Users/apple/Desktop/haha/vue/myspace/babel.config.js","mtime":1667036937183},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/thread-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/babel-loader/lib/index.js","mtime":1665369387354},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1665369388402},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js","mtime":1665369387346}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKY29uc3QgX3dpdGhTY29wZUlkID0gbiA9PiAoX3B1c2hTY29wZUlkKCJkYXRhLXYtMDIxNzRhY2EiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbik7Cgpjb25zdCBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiY2FyZCIKfTsKY29uc3QgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImNhcmQtYm9keSIKfTsKY29uc3QgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogInJvdyIKfTsKY29uc3QgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImNvbC0zIGltZy1maWVsZCIKfTsKY29uc3QgX2hvaXN0ZWRfNSA9IFsic3JjIl07CmNvbnN0IF9ob2lzdGVkXzYgPSB7CiAgY2xhc3M6ICJjb2wtOSIKfTsKY29uc3QgX2hvaXN0ZWRfNyA9IHsKICBjbGFzczogInVzZXJuYW1lIgp9Owpjb25zdCBfaG9pc3RlZF84ID0gewogIGNsYXNzOiAiZmFucyIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW1nIiwgewogICAgY2xhc3M6ICJpbWctZmx1aWQiLAogICAgc3JjOiAkcHJvcHMudXNlci5waG90bywKICAgIGFsdDogIiIKICB9LCBudWxsLCA4LCBfaG9pc3RlZF81KV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF82LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNywgX3RvRGlzcGxheVN0cmluZygkcHJvcHMudXNlci51c2VybmFtZSksIDEpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF84LCAi57KJ5Lid77yaIiArIF90b0Rpc3BsYXlTdHJpbmcoJHByb3BzLnVzZXIuZm9sbG93ZXJDb3VudCksIDEpLCAhJHByb3BzLnVzZXIuaXNfZm9sbG93ZWQgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJidXR0b24iLCB7CiAgICBrZXk6IDAsCiAgICBvbkNsaWNrOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICguLi5hcmdzKSA9PiAkc2V0dXAuZm9sbG93ICYmICRzZXR1cC5mb2xsb3coLi4uYXJncykpLAogICAgdHlwZTogImJ1dHRvbiIsCiAgICBjbGFzczogImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1zbSIKICB9LCAiK+WFs+azqCIpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCAkcHJvcHMudXNlci5pc19mb2xsb3dlZCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImJ1dHRvbiIsIHsKICAgIGtleTogMSwKICAgIG9uQ2xpY2s6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gKC4uLmFyZ3MpID0+ICRzZXR1cC51bmZvbGxvdyAmJiAkc2V0dXAudW5mb2xsb3coLi4uYXJncykpLAogICAgdHlwZTogImJ1dHRvbiIsCiAgICBjbGFzczogImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1zbSIKICB9LCAiK+WPlua2iOWFs+azqCIpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpXSldKV0pXSk7Cn0="},{"version":3,"mappings":";;;;;EACSA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;;EAGNA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EACNA,KAAK,EAAC;;;uBAR3BC,oBAcM,KAdN,cAcM,CAbFC,oBAYM,KAZN,cAYM,CAXFA,oBAUM,KAVN,cAUM,CATFA,oBAEM,KAFN,cAEM,CADFA,oBAAgD,KAAhD,EAAgD;IAA3CF,KAAK,EAAC,WAAqC;IAAxBG,GAAG,EAAEC,YAAKC,KAAc;IAAPC,GAAG,EAAC;EAAG,CAAhD,sBACE,CAFN,CASE,EANFJ,oBAKM,KALN,cAKM,CAJFA,oBAA+C,KAA/C,cAA+CK,iBAAtBH,YAAKI,QAAiB,CAA/C,EAAsC,CAAtC,CAIE,EAHFN,oBAAmD,KAAnD,cAAkB,QAAGK,iBAAGH,YAAKK,aAAR,CAArB,EAA0C,CAA1C,CAGE,GAF6BL,YAAKM,6BAApCT,oBAA4G,QAA5G,EAA4G;UAAA;IAAnGU,OAAK,yCAAEC,uCAAF,CAA8F;IAA3DC,IAAI,EAAC,QAAsD;IAA7Cb,KAAK,EAAC;EAAuC,CAA5G,EAAgG,KAAhG,kCAEE,EAD8BI,YAAKM,6BAArCT,oBAA+G,QAA/G,EAA+G;UAAA;IAAtGU,OAAK,yCAAEC,2CAAF,CAAiG;IAA7DC,IAAI,EAAC,QAAwD;IAA/Cb,KAAK,EAAC;EAAyC,CAA/G,EAAiG,OAAjG,kCACE,CALN,CAME,CAVN,CAWE,CAZN,CAaE,CAdN","names":["class","_createElementBlock","_createElementVNode","src","$props","photo","alt","_toDisplayString","username","followerCount","is_followed","onClick","$setup","type"],"sourceRoot":"","sources":["/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfileInfo.vue"],"sourcesContent":["<template>\n    <div class=\"card\">\n        <div class=\"card-body\">\n            <div class=\"row\">\n                <div class=\"col-3 img-field\">\n                    <img class=\"img-fluid\" :src=\"user.photo\" alt=\"\">\n                </div>\n                <div class=\"col-9\">\n                    <div class=\"username\">{{ user.username }}</div>\n                    <div class=\"fans\">粉丝：{{ user.followerCount }}</div>\n                    <button @click='follow' v-if=\"!user.is_followed\" type=\"button\" class=\"btn btn-secondary btn-sm\">+关注</button>\n                    <button @click='unfollow' v-if=\"user.is_followed\" type=\"button\" class=\"btn btn-secondary btn-sm\">+取消关注</button>\n                </div>\n            </div>    \n        </div>\n    </div>\n    \n</template>\n\n\n\n<script>\nimport $ from 'jquery';\nimport { useStore } from 'vuex';\n\nexport default {\n    name: \"UserProfileInfo\",\n    props:{\n        user:{\n            type: Object,\n            required: true,\n        },\n    },\n    setup(props, context){\n        const store = useStore();\n        const follow = () => {\n            $.ajax({\n                url: \"https://app165.acapp.acwing.com.cn/myspace/follow/\",\n                type: \"POST\",\n                data:{\n                    target_id: props.user.id,\n                },\n                headers: {\n                    'Authorization': \"Bearer \" + store.state.user.access,\n                },\n                success(resp){\n                    if(resp.result === \"success\"){\n                        context.emit('follow');\n                    }\n                   \n                }\n            })\n        }\n        const unfollow = () => {\n            $.ajax({\n                url: \"https://app165.acapp.acwing.com.cn/myspace/follow/\",\n                type: \"POST\",\n                data:{\n                    target_id: props.user.id,\n                },\n                headers: {\n                    'Authorization': \"Bearer \" + store.state.user.access,\n                },\n                success(resp){\n                    if(resp.result === \"success\"){\n                        context.emit('unfollow');\n                    }\n                }\n            })\n        }\n        \n        return{\n            follow,\n            unfollow,\n        }\n    }\n\n}\n</script>\n\n\n\n<style scoped>\nimg{\n    border-radius: 50%;\n}\n.username{\n    font-size: bold;\n}\n.fans{\n    font-size: 12px;\n    color: grey;\n}\n.img-field{\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n}\n\n</style>\n"]}]}