{"remainingRequest":"/Users/apple/Desktop/haha/vue/myspace/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/apple/Desktop/haha/vue/myspace/src/views/RegisterView.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/apple/Desktop/haha/vue/myspace/src/views/RegisterView.vue","mtime":1667044584911},{"path":"/Users/apple/Desktop/haha/vue/myspace/babel.config.js","mtime":1667036937183},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/babel-loader/lib/index.js","mtime":1665369387354},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js","mtime":1665369387346}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBDb250ZW50QmFzZSBmcm9tICcuLi9jb21wb25lbnRzL0NvbnRlbnRCYXNlLnZ1ZSc7CmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXIvaW5kZXgnOwppbXBvcnQgJCBmcm9tICdqcXVlcnknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luVmlldycsCiAgY29tcG9uZW50czogewogICAgQ29udGVudEJhc2UKICB9LAoKICBzZXR1cCgpIHsKICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIGxldCB1c2VybmFtZSA9IHJlZignJyk7CiAgICBsZXQgcGFzc3dvcmQgPSByZWYoJycpOwogICAgbGV0IHBhc3N3b3JkX2NvbmZpcm0gPSByZWYoJycpOwogICAgbGV0IGVycm9yX21lc3NhZ2UgPSByZWYoJycpOwoKICAgIGNvbnN0IHJlZ2lzdGVyID0gKCkgPT4gewogICAgICBlcnJvcl9tZXNzYWdlLnZhbHVlID0gIiI7CiAgICAgICQuYWpheCh7CiAgICAgICAgdXJsOiAiaHR0cHM6Ly9hcHAxNjUuYWNhcHAuYWN3aW5nLmNvbS5jbi9teXNwYWNlL3VzZXIvIiwKICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLnZhbHVlLAogICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLnZhbHVlLAogICAgICAgICAgcGFzc3dvcmRfY29uZmlybTogcGFzc3dvcmRfY29uZmlybS52YWx1ZQogICAgICAgIH0sCgogICAgICAgIHN1Y2Nlc3MocmVzcCkgewogICAgICAgICAgaWYgKHJlc3AucmVzdWx0ID09PSAic3VjY2VzcyIpIHsKICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goImxvZ2luIiwgewogICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZS52YWx1ZSwKICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQudmFsdWUsCgogICAgICAgICAgICAgIHN1Y2Nlc3MoKSB7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICd1c2VybGlzdCcKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgIGVycm9yKCkgewogICAgICAgICAgICAgICAgZXJyb3JfbWVzc2FnZS52YWx1ZSA9ICLns7vnu5/lvILluLjvvIzor7fnqI3lkI7ph43or5UiOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZXJyb3JfbWVzc2FnZS52YWx1ZSA9IHJlc3AucmVzdWx0OwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICB1c2VybmFtZSwKICAgICAgcGFzc3dvcmQsCiAgICAgIHBhc3N3b3JkX2NvbmZpcm0sCiAgICAgIGVycm9yX21lc3NhZ2UsCiAgICAgIHJlZ2lzdGVyCiAgICB9OwogIH0KCn07"},{"version":3,"mappings":";AA4BA,OAAOA,WAAP,MAAwB,+BAAxB;AACA,SAASC,GAAT,QAAoB,KAApB;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,eAAc;EACZC,IAAI,EAAE,WADM;EAEZC,UAAU,EAAC;IACTN;EADS,CAFC;;EAKZO,KAAK,GAAG;IACN,MAAMC,KAAI,GAAIN,QAAQ,EAAtB;IACA,IAAIO,QAAO,GAAIR,GAAG,CAAC,EAAD,CAAlB;IACA,IAAIS,QAAO,GAAIT,GAAG,CAAC,EAAD,CAAlB;IACA,IAAIU,gBAAe,GAAIV,GAAG,CAAC,EAAD,CAA1B;IACA,IAAIW,aAAY,GAAIX,GAAG,CAAC,EAAD,CAAvB;;IAEA,MAAMY,QAAO,GAAI,MAAM;MACrBD,aAAa,CAACE,KAAd,GAAsB,EAAtB;MACAV,CAAC,CAACW,IAAF,CAAO;QACLC,GAAG,EAAE,kDADA;QAELC,IAAI,EAAE,MAFD;QAGLC,IAAI,EAAE;UACJT,QAAQ,EAAEA,QAAQ,CAACK,KADf;UAEJJ,QAAQ,EAAEA,QAAQ,CAACI,KAFf;UAGJH,gBAAgB,EAAEA,gBAAgB,CAACG;QAH/B,CAHD;;QAQLK,OAAO,CAACC,IAAD,EAAM;UACX,IAAGA,IAAI,CAACC,MAAL,KAAgB,SAAnB,EAA6B;YAC3Bb,KAAK,CAACc,QAAN,CAAe,OAAf,EAAwB;cACtBb,QAAQ,EAAEA,QAAQ,CAACK,KADG;cAEtBJ,QAAQ,EAAEA,QAAQ,CAACI,KAFG;;cAGtBK,OAAO,GAAE;gBACPhB,MAAM,CAACoB,IAAP,CAAY;kBAAClB,IAAI,EAAE;gBAAP,CAAZ;cACD,CALqB;;cAMtBmB,KAAK,GAAE;gBACLZ,aAAa,CAACE,KAAd,GAAsB,YAAtB;cACD;;YARqB,CAAxB;UAWF,CAZA,MAYM;YACJF,aAAa,CAACE,KAAd,GAAsBM,IAAI,CAACC,MAA3B;UACF;QAGF;;MA1BK,CAAP;IA4BD,CA9BD;;IAgCA,OAAM;MACJZ,QADI;MAEJC,QAFI;MAGJC,gBAHI;MAIJC,aAJI;MAKJC;IALI,CAAN;EAOF;;AAnDY,CAAd","names":["ContentBase","ref","useStore","router","$","name","components","setup","store","username","password","password_confirm","error_message","register","value","ajax","url","type","data","success","resp","result","dispatch","push","error"],"sourceRoot":"","sources":["/Users/apple/Desktop/haha/vue/myspace/src/views/RegisterView.vue"],"sourcesContent":["<template>\n  <ContentBase>\n    <div class=\"row justify-content-md-center\">\n      <div class=\"col-3\">\n        <form @submit.prevent=\"register\">\n          <div class=\"mb-3\">\n            <label for=\"username\" class=\"form-label\">用户名</label>\n            <input v-model=\"username\" type=\"text\" class=\"form-control\" id=\"username\">\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"password\" class=\"form-label\">密码</label>\n            <input v-model=\"password\" type=\"password\" class=\"form-control\" id=\"password\">\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"password\" class=\"form-label\">确认密码</label>\n            <input v-model=\"password_confirm\" type=\"password\" class=\"form-control\" id=\"password\">\n          </div>\n          <div class=\"error-message\"> {{ error_message }} </div>\n          <button type=\"submit\" class=\"btn btn-primary\">登录</button>\n        </form>\n      </div>\n    </div>\n    \n  </ContentBase>\n</template>\n\n\n<script>\nimport ContentBase from '../components/ContentBase.vue';\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport router from '@/router/index';\nimport $ from 'jquery';\n\nexport default{\n  name: 'LoginView',\n  components:{\n    ContentBase,\n  },\n  setup() {\n    const store = useStore();\n    let username = ref('');\n    let password = ref('');\n    let password_confirm = ref('');\n    let error_message = ref('');\n\n    const register = () => {\n      error_message.value = \"\";\n      $.ajax({\n        url: \"https://app165.acapp.acwing.com.cn/myspace/user/\",\n        type: \"POST\",\n        data: {\n          username: username.value,\n          password: password.value,\n          password_confirm: password_confirm.value,\n        },\n        success(resp){\n          if(resp.result === \"success\"){\n            store.dispatch(\"login\", {\n              username: username.value,\n              password: password.value,\n              success(){\n                router.push({name: 'userlist'});\n              },\n              error(){\n                error_message.value = \"系统异常，请稍后重试\";\n              },\n              \n            });\n          } else{\n            error_message.value = resp.result;\n          }\n\n           \n        }\n      })\n    };\n\n    return{\n      username,\n      password,\n      password_confirm,\n      error_message,\n      register,\n    }\n  }\n}\n</script>\n\n<style scoped>\nbutton{\n  width: 100%\n}\n\n.error-message{\n  color: red;\n}\n\n</style>"]}]}