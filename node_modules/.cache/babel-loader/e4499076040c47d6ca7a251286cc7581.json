{"remainingRequest":"/Users/apple/Desktop/haha/vue/myspace/node_modules/thread-loader/dist/cjs.js!/Users/apple/Desktop/haha/vue/myspace/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/apple/Desktop/haha/vue/myspace/src/views/LoginView.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/apple/Desktop/haha/vue/myspace/src/views/LoginView.vue","mtime":1667045111067},{"path":"/Users/apple/Desktop/haha/vue/myspace/babel.config.js","mtime":1667036937183},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/thread-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/babel-loader/lib/index.js","mtime":1665369387354},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js","mtime":1665369387346}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBDb250ZW50QmFzZSBmcm9tICcuLi9jb21wb25lbnRzL0NvbnRlbnRCYXNlLnZ1ZSc7CmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXIvaW5kZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luVmlldycsCiAgY29tcG9uZW50czogewogICAgQ29udGVudEJhc2UKICB9LAoKICBzZXR1cCgpIHsKICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIGxldCB1c2VybmFtZSA9IHJlZignJyk7CiAgICBsZXQgcGFzc3dvcmQgPSByZWYoJycpOwogICAgbGV0IGVycm9yX21lc3NhZ2UgPSByZWYoJycpOwoKICAgIGNvbnN0IGxvZ2luID0gKCkgPT4gewogICAgICBlcnJvcl9tZXNzYWdlLnZhbHVlID0gIiI7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCJsb2dpbiIsIHsKICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUudmFsdWUsCiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLnZhbHVlLAoKICAgICAgICBzdWNjZXNzKCkgewogICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAndXNlcmxpc3QnCiAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICBlcnJvcigpIHsKICAgICAgICAgIGVycm9yX21lc3NhZ2UudmFsdWUgPSAi55So5oi35ZCN5oiW5a+G56CB6ZSZ6K+vIjsKICAgICAgICB9CgogICAgICB9KTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWUsCiAgICAgIHBhc3N3b3JkLAogICAgICBlcnJvcl9tZXNzYWdlLAogICAgICBsb2dpbgogICAgfTsKICB9Cgp9Ow=="},{"version":3,"mappings":";AAwBA,OAAOA,WAAP,MAAwB,+BAAxB;AACA,SAASC,GAAT,QAAoB,KAApB;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AAEA,eAAc;EACZC,IAAI,EAAE,WADM;EAEZC,UAAU,EAAC;IACTL;EADS,CAFC;;EAKZM,KAAK,GAAG;IACN,MAAMC,KAAI,GAAIL,QAAQ,EAAtB;IACA,IAAIM,QAAO,GAAIP,GAAG,CAAC,EAAD,CAAlB;IACA,IAAIQ,QAAO,GAAIR,GAAG,CAAC,EAAD,CAAlB;IACA,IAAIS,aAAY,GAAIT,GAAG,CAAC,EAAD,CAAvB;;IAEA,MAAMU,KAAI,GAAI,MAAM;MAClBD,aAAa,CAACE,KAAd,GAAsB,EAAtB;MACAL,KAAK,CAACM,QAAN,CAAe,OAAf,EAAwB;QACtBL,QAAQ,EAAEA,QAAQ,CAACI,KADG;QAEtBH,QAAQ,EAAEA,QAAQ,CAACG,KAFG;;QAGtBE,OAAO,GAAE;UACPX,MAAM,CAACY,IAAP,CAAY;YAACX,IAAI,EAAE;UAAP,CAAZ;QACD,CALqB;;QAMtBY,KAAK,GAAE;UACLN,aAAa,CAACE,KAAd,GAAsB,UAAtB;QACD;;MARqB,CAAxB;IAWD,CAbD;;IAeA,OAAM;MACJJ,QADI;MAEJC,QAFI;MAGJC,aAHI;MAIJC;IAJI,CAAN;EAOF;;AAjCY,CAAd","names":["ContentBase","ref","useStore","router","name","components","setup","store","username","password","error_message","login","value","dispatch","success","push","error"],"sourceRoot":"","sources":["/Users/apple/Desktop/haha/vue/myspace/src/views/LoginView.vue"],"sourcesContent":["<template>\n  <ContentBase>\n    <div class=\"row justify-content-md-center\">\n      <div class=\"col-3\">\n        <form @submit.prevent=\"login\">\n          <div class=\"mb-3\">\n            <label for=\"username\" class=\"form-label\">用户名</label>\n            <input v-model=\"username\" type=\"text\" class=\"form-control\" id=\"username\">\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"password\" class=\"form-label\">密码</label>\n            <input v-model=\"password\" type=\"password\" class=\"form-control\" id=\"password\">\n          </div>\n          <div class=\"error-message\"> {{ error_message }} </div>\n          <button type=\"submit\" class=\"btn btn-primary\">登录</button>\n        </form>\n      </div>\n    </div>\n    \n  </ContentBase>\n</template>\n\n\n<script>\nimport ContentBase from '../components/ContentBase.vue';\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport router from '@/router/index';\n\nexport default{\n  name: 'LoginView',\n  components:{\n    ContentBase,\n  },\n  setup() {\n    const store = useStore();\n    let username = ref('');\n    let password = ref('');\n    let error_message = ref('');\n\n    const login = () => {\n      error_message.value = \"\";\n      store.dispatch(\"login\", {\n        username: username.value,\n        password: password.value,\n        success(){\n          router.push({name: 'userlist'});\n        },\n        error(){\n          error_message.value = \"用户名或密码错误\";\n        },\n        \n      });\n    };\n\n    return{\n      username,\n      password,\n      error_message,\n      login,\n\n    }\n  }\n}\n</script>\n\n<style scoped>\nbutton{\n  width: 100%\n}\n\n.error-message{\n  color: red;\n}\n\n</style>"]}]}