{"remainingRequest":"/Users/apple/Desktop/haha/vue/myspace/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfilePosts.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfilePosts.vue","mtime":1667043679570},{"path":"/Users/apple/Desktop/haha/vue/myspace/babel.config.js","mtime":1667036937183},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/babel-loader/lib/index.js","mtime":1665369387354},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js","mtime":1665369387346}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgJCBmcm9tICdqcXVlcnknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVzZXJQcm9maWxlUG9zdHMiLAogIHByb3BzOiB7CiAgICBwb3N0czogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdXNlcjogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKCiAgc2V0dXAocHJvcHMsIGNvbnRleHQpIHsKICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIGxldCBpc19tZSA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLnN0YXRlLnVzZXIuaWQgPT09IHByb3BzLnVzZXIuaWQpOwoKICAgIGNvbnN0IGRlbGV0ZV9hX3Bvc3QgPSBwb3N0X2lkID0+IHsKICAgICAgJC5hamF4KHsKICAgICAgICB1cmw6ICJodHRwczovL2FwcDE2NS5hY2FwcC5hY3dpbmcuY29tLmNuL215c3BhY2UvcG9zdC8iLAogICAgICAgIHR5cGU6ICJERUxFVEUiLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIHBvc3RfaWQKICAgICAgICB9LAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdBdXRob3JpemF0aW9uJzogIkJlYXJlciAiICsgc3RvcmUuc3RhdGUudXNlci5hY2Nlc3MKICAgICAgICB9LAoKICAgICAgICBzdWNjZXNzKHJlc3ApIHsKICAgICAgICAgIGlmIChyZXNwLnJlc3VsdCA9PT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICAgIGNvbnRleHQuZW1pdCgnZGVsZXRlX2FfcG9zdCcsIHBvc3RfaWQpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBpc19tZSwKICAgICAgZGVsZXRlX2FfcG9zdAogICAgfTsKICB9Cgp9Ow=="},{"version":3,"mappings":"AAkBA,SAASA,QAAT,QAAyB,KAAzB;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,eAAc;EACVC,IAAI,EAAE,kBADI;EAEVC,KAAK,EAAC;IACFC,KAAK,EAAC;MACFC,IAAI,EAAEC,MADJ;MAEFC,QAAQ,EAAE;IAFR,CADJ;IAKFC,IAAI,EAAE;MACFH,IAAI,EAAEC,MADJ;MAEFC,QAAQ,EAAE;IAFR;EALJ,CAFI;;EAYVE,KAAK,CAACN,KAAD,EAAQO,OAAR,EAAiB;IAClB,MAAMC,KAAI,GAAIX,QAAQ,EAAtB;IACA,IAAIY,KAAI,GAAIb,QAAQ,CAAC,MAAMY,KAAK,CAACE,KAAN,CAAYL,IAAZ,CAAiBM,EAAjB,KAAwBX,KAAK,CAACK,IAAN,CAAWM,EAA1C,CAApB;;IAEA,MAAMC,aAAY,GAAIC,OAAM,IAAK;MAC7Bf,CAAC,CAACgB,IAAF,CAAO;QACHC,GAAG,EAAE,kDADF;QAEHb,IAAI,EAAE,QAFH;QAGHc,IAAI,EAAE;UACFH;QADE,CAHH;QAMHI,OAAO,EAAE;UACL,iBAAiB,YAAYT,KAAK,CAACE,KAAN,CAAYL,IAAZ,CAAiBa;QADzC,CANN;;QASHC,OAAO,CAACC,IAAD,EAAM;UACT,IAAGA,IAAI,CAACC,MAAL,KAAgB,SAAnB,EAA6B;YACzBd,OAAO,CAACe,IAAR,CAAa,eAAb,EAA8BT,OAA9B;UACJ;QACJ;;MAbG,CAAP;IAgBJ,CAjBA;;IAmBA,OAAM;MACFJ,KADE;MAEFG;IAFE,CAAN;EAKJ;;AAxCU,CAAd","names":["computed","useStore","$","name","props","posts","type","Object","required","user","setup","context","store","is_me","state","id","delete_a_post","post_id","ajax","url","data","headers","access","success","resp","result","emit"],"sourceRoot":"","sources":["/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfilePosts.vue"],"sourcesContent":["<template>\n    <div class=\"card\">\n        <div class=\"card-body\">\n            <div v-for=\"post in posts.posts\" :key=\"post.id\">\n                <div class=\"card single-post\">\n                    <div class=\"card-body\">\n                        {{ post.content }}\n                        <button @click=\"delete_a_post(post.id)\" type=\"button\" class=\"btn btn-danger btn-sm\">删除</button>\n                    </div>\n                </div>\n            \n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script>\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\nimport $ from 'jquery';\n\nexport default{\n    name: \"UserProfilePosts\",\n    props:{\n        posts:{\n            type: Object,\n            required: true,\n        },\n        user: {\n            type: Object,\n            required: true,\n        }\n    },\n    setup(props, context) {\n        const store = useStore();\n        let is_me = computed(() => store.state.user.id === props.user.id)\n\n        const delete_a_post = post_id => {\n            $.ajax({\n                url: \"https://app165.acapp.acwing.com.cn/myspace/post/\",\n                type: \"DELETE\",\n                data: {\n                    post_id,\n                },\n                headers: {\n                    'Authorization': \"Bearer \" + store.state.user.access,\n                },\n                success(resp){\n                    if(resp.result === \"success\"){\n                        context.emit('delete_a_post', post_id);\n                    }\n                }\n            })\n            \n        }\n\n        return{\n            is_me,\n            delete_a_post,\n\n        }\n    }\n}\n</script>\n\n\n<style scoped>\n\n.single-post{\n    margin-bottom: 10px;\n}\n\nbutton{\n    float: right;\n}\n\n</style>"]}]}