{"remainingRequest":"/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfileInfo.vue?vue&type=style&index=0&id=5c47392c&scoped=true&lang=css","dependencies":[{"path":"/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfileInfo.vue","mtime":1667045481801},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/css-loader/dist/cjs.js","mtime":1665369386877},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1665369388372},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/postcss-loader/src/index.js","mtime":1665369387346},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js","mtime":1665369387346}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltZ3sKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKfQoudXNlcm5hbWV7CiAgICBmb250LXNpemU6IGJvbGQ7Cn0KLmZhbnN7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBjb2xvcjogZ3JleTsKfQouaW1nLWZpZWxkewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoK"},{"version":3,"sources":["/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfileInfo.vue"],"names":[],"mappings":";AAoFA,CAAC,CAAC,CAAC;IACC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACtB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACnB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACf;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3B","file":"/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfileInfo.vue","sourceRoot":"","sourcesContent":["<template>\n    <div class=\"card\">\n        <div class=\"card-body\">\n            <div class=\"row\">\n                <div class=\"col-3 img-field\">\n                    <img class=\"img-fluid\" :src=\"user.photo\" alt=\"\">\n                </div>\n                <div class=\"col-9\">\n                    <div class=\"username\">{{ user.username }}</div>\n                    <div class=\"fans\">粉丝：{{ user.followerCount }}</div>\n                    <button @click='follow' v-if=\"!user.is_followed\" type=\"button\" class=\"btn btn-secondary btn-sm\">+关注</button>\n                    <button @click='unfollow' v-if=\"user.is_followed\" type=\"button\" class=\"btn btn-secondary btn-sm\">+取消关注</button>\n                </div>\n            </div>    \n        </div>\n    </div>\n    \n</template>\n\n\n\n<script>\nimport $ from 'jquery';\nimport { useStore } from 'vuex';\n\nexport default {\n    name: \"UserProfileInfo\",\n    props:{\n        user:{\n            type: Object,\n            required: true,\n        },\n    },\n    setup(props, context){\n        const store = useStore();\n        const follow = () => {\n            $.ajax({\n                url: \"https://app165.acapp.acwing.com.cn/myspace/follow/\",\n                type: \"POST\",\n                data:{\n                    target_id: props.user.id,\n                },\n                headers: {\n                    'Authorization': \"Bearer \" + store.state.user.access,\n                },\n                success(resp){\n                    if(resp.result === \"success\"){\n                        context.emit('follow');\n                    }\n                   \n                }\n            })\n        }\n        const unfollow = () => {\n            $.ajax({\n                url: \"https://app165.acapp.acwing.com.cn/myspace/follow/\",\n                type: \"POST\",\n                data:{\n                    target_id: props.user.id,\n                },\n                headers: {\n                    'Authorization': \"Bearer \" + store.state.user.access,\n                },\n                success(resp){\n                    if(resp.result === \"success\"){\n                        context.emit('unfollow');\n                    }\n                   \n                }\n            })\n        }\n        \n        return{\n            follow,\n            unfollow,\n        }\n    }\n\n}\n</script>\n\n\n\n<style scoped>\nimg{\n    border-radius: 50%;\n}\n.username{\n    font-size: bold;\n}\n.fans{\n    font-size: 12px;\n    color: grey;\n}\n.img-field{\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n}\n\n</style>\n"]}]}