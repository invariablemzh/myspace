{"remainingRequest":"/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/apple/Desktop/haha/vue/myspace/src/views/LoginView.vue?vue&type=style&index=0&id=5c6101e4&scoped=true&lang=css","dependencies":[{"path":"/Users/apple/Desktop/haha/vue/myspace/src/views/LoginView.vue","mtime":1667045111067},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/css-loader/dist/cjs.js","mtime":1665369386877},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1665369388372},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/postcss-loader/src/index.js","mtime":1665369387346},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js","mtime":1665369387346}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmJ1dHRvbnsKICB3aWR0aDogMTAwJQp9CgouZXJyb3ItbWVzc2FnZXsKICBjb2xvcjogcmVkOwp9Cgo="},{"version":3,"sources":["/Users/apple/Desktop/haha/vue/myspace/src/views/LoginView.vue"],"names":[],"mappings":";AAmEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACJ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACZ;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACZ","file":"/Users/apple/Desktop/haha/vue/myspace/src/views/LoginView.vue","sourceRoot":"","sourcesContent":["<template>\n  <ContentBase>\n    <div class=\"row justify-content-md-center\">\n      <div class=\"col-3\">\n        <form @submit.prevent=\"login\">\n          <div class=\"mb-3\">\n            <label for=\"username\" class=\"form-label\">用户名</label>\n            <input v-model=\"username\" type=\"text\" class=\"form-control\" id=\"username\">\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"password\" class=\"form-label\">密码</label>\n            <input v-model=\"password\" type=\"password\" class=\"form-control\" id=\"password\">\n          </div>\n          <div class=\"error-message\"> {{ error_message }} </div>\n          <button type=\"submit\" class=\"btn btn-primary\">登录</button>\n        </form>\n      </div>\n    </div>\n    \n  </ContentBase>\n</template>\n\n\n<script>\nimport ContentBase from '../components/ContentBase.vue';\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport router from '@/router/index';\n\nexport default{\n  name: 'LoginView',\n  components:{\n    ContentBase,\n  },\n  setup() {\n    const store = useStore();\n    let username = ref('');\n    let password = ref('');\n    let error_message = ref('');\n\n    const login = () => {\n      error_message.value = \"\";\n      store.dispatch(\"login\", {\n        username: username.value,\n        password: password.value,\n        success(){\n          router.push({name: 'userlist'});\n        },\n        error(){\n          error_message.value = \"用户名或密码错误\";\n        },\n        \n      });\n    };\n\n    return{\n      username,\n      password,\n      error_message,\n      login,\n\n    }\n  }\n}\n</script>\n\n<style scoped>\nbutton{\n  width: 100%\n}\n\n.error-message{\n  color: red;\n}\n\n</style>"]}]}