{"remainingRequest":"/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfilePosts.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfilePosts.vue","mtime":1667043679570},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/babel-loader/lib/index.js","mtime":1665369387354},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/cache-loader/dist/cjs.js","mtime":1665369386161},{"path":"/Users/apple/Desktop/haha/vue/myspace/node_modules/vue-loader-v16/dist/index.js","mtime":1665369387346}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JzsKCmV4cG9ydCBkZWZhdWx0ewogICAgbmFtZTogIlVzZXJQcm9maWxlUG9zdHMiLAogICAgcHJvcHM6ewogICAgICAgIHBvc3RzOnsKICAgICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIHVzZXI6IHsKICAgICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB9CiAgICB9LAogICAgc2V0dXAocHJvcHMsIGNvbnRleHQpIHsKICAgICAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICAgICAgbGV0IGlzX21lID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUuc3RhdGUudXNlci5pZCA9PT0gcHJvcHMudXNlci5pZCkKCiAgICAgICAgY29uc3QgZGVsZXRlX2FfcG9zdCA9IHBvc3RfaWQgPT4gewogICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgdXJsOiAiaHR0cHM6Ly9hcHAxNjUuYWNhcHAuYWN3aW5nLmNvbS5jbi9teXNwYWNlL3Bvc3QvIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJERUxFVEUiLAogICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgIHBvc3RfaWQsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogIkJlYXJlciAiICsgc3RvcmUuc3RhdGUudXNlci5hY2Nlc3MsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc3VjY2VzcyhyZXNwKXsKICAgICAgICAgICAgICAgICAgICBpZihyZXNwLnJlc3VsdCA9PT0gInN1Y2Nlc3MiKXsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5lbWl0KCdkZWxldGVfYV9wb3N0JywgcG9zdF9pZCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAKICAgICAgICB9CgogICAgICAgIHJldHVybnsKICAgICAgICAgICAgaXNfbWUsCiAgICAgICAgICAgIGRlbGV0ZV9hX3Bvc3QsCgogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfilePosts.vue"],"names":[],"mappings":"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","file":"/Users/apple/Desktop/haha/vue/myspace/src/components/UserProfilePosts.vue","sourceRoot":"","sourcesContent":["<template>\n    <div class=\"card\">\n        <div class=\"card-body\">\n            <div v-for=\"post in posts.posts\" :key=\"post.id\">\n                <div class=\"card single-post\">\n                    <div class=\"card-body\">\n                        {{ post.content }}\n                        <button @click=\"delete_a_post(post.id)\" type=\"button\" class=\"btn btn-danger btn-sm\">删除</button>\n                    </div>\n                </div>\n            \n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script>\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\nimport $ from 'jquery';\n\nexport default{\n    name: \"UserProfilePosts\",\n    props:{\n        posts:{\n            type: Object,\n            required: true,\n        },\n        user: {\n            type: Object,\n            required: true,\n        }\n    },\n    setup(props, context) {\n        const store = useStore();\n        let is_me = computed(() => store.state.user.id === props.user.id)\n\n        const delete_a_post = post_id => {\n            $.ajax({\n                url: \"https://app165.acapp.acwing.com.cn/myspace/post/\",\n                type: \"DELETE\",\n                data: {\n                    post_id,\n                },\n                headers: {\n                    'Authorization': \"Bearer \" + store.state.user.access,\n                },\n                success(resp){\n                    if(resp.result === \"success\"){\n                        context.emit('delete_a_post', post_id);\n                    }\n                }\n            })\n            \n        }\n\n        return{\n            is_me,\n            delete_a_post,\n\n        }\n    }\n}\n</script>\n\n\n<style scoped>\n\n.single-post{\n    margin-bottom: 10px;\n}\n\nbutton{\n    float: right;\n}\n\n</style>"]}]}